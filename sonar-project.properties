# SonarCloud Configuration for HAL
#
# This file configures SonarCloud static analysis and coverage reporting.
# See: https://sonarcloud.io/organizations/edgefirstai

# Organization and project identification
sonar.organization=edgefirstai
sonar.projectKey=EdgeFirstAI_hal
sonar.projectName=EdgeFirst HAL

# Source code directories
# Rust crates (core library code)
sonar.sources=crates

# Test directories (excluded from coverage metrics)
sonar.tests=tests
sonar.test.inclusions=**/*_test.rs,**/test_*.py,**/tests/**/*.py

# Coverage report paths (populated by CI workflow)
# Rust coverage (LCOV format from cargo-llvm-cov)
sonar.rust.lcov.reportPaths=coverage/coverage-x86_64/coverage_rust.lcov,coverage/coverage-aarch64/coverage_rust.lcov,coverage/coverage-imx8mp-processed/coverage_rust_imx8mp.lcov

# Python coverage (Cobertura XML format from pytest-cov/slipcover)
sonar.python.coverage.reportPaths=coverage/coverage-x86_64/coverage_python.xml,coverage/coverage-aarch64/coverage_python.xml,coverage/coverage-imx8mp/build/coverage_python.xml

# Language configuration
sonar.rust.edition=2024
sonar.python.version=3.8,3.9,3.10,3.11,3.12

# Disable C/C++/Objective-C analysis (Rust project only)
sonar.c.file.suffixes=-
sonar.cpp.file.suffixes=-
sonar.objc.file.suffixes=-

# Exclusions (build artifacts, external code, generated files)
sonar.exclusions=**/target/**,**/build/**,**/venv/**,**/__pycache__/**,**/testdata/**,**/*.lock

# Coverage exclusions (benchmark code doesn't need test coverage)
sonar.coverage.exclusions=**/benches/**/*.rs

# Quality gate settings
# Note: Quality gate is checked via PR decoration, not workflow failure.
# This prevents blocking merges while still showing quality gate status.
sonar.qualitygate.wait=false

# SonarCloud host
sonar.host.url=https://sonarcloud.io
